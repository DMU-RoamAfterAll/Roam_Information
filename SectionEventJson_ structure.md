# **Json 구조**

---

## 기본 노드

### Text
텍스트 본문을 출력하는 노드, `Text1`, `Text2` ... 혹은 `Result`, `PostBattle_W`, `PostBattle_L` ... 등으로 작성
- **value** : 본문 내용을 적는 노드, 리스트를 사용하여 여러 문장을 나누어 작성  
- **next** : 다음 출력을 위한 노드 키값, 본문이 출력된 후 해당 노드로 이동  
- **action** : 키값을 주어 다양한 기능을 제어 가능  

### Menu
선택지를 생성하는 노드, `Menu1`, `Menu2` ... 등으로 작성  
- **menuOption** : 선택지의 내용을 설정하는 노드, 리스트 형식으로 각 선택지를 구분  
  - **id** : 선택지를 구분하기 위한 키값  
  - **label** : 선택지 내용  
  - **next** : 다음 출력을 위한 노드 키값, `Result1`, `Result2` ... 의 형태로 작성, 본문이 출력된 후 해당 노드로 이동  
  - **action** : 키값을 주어 다양한 기능을 제어 가능

### Battle
전투씬을 출력하는 노드, Battle1 Battle2 ... 등으로 작성 
- **battleIntro** :전투 시작 전 인트로 내용을 적는 노드, 리스트를 사용하여 여러 문장을 나누어 작성
- **battleOrder** : 전투 진행 순서를 결정하는 노드, 리스트 앞쪽 순서부터 순서대로 진행
- **battleTriggers** : 전투시 적용할 특성
- **BattleWin** : 전투 승리 시 다음 출력을 위한 노드 키값, 전투씬 노드 키값에 따라 `PostBattle1_W`, `PostBattle2_W` ... 의 형태로 작성, 본문이 출력된 후 해당 노드로 이동
- **BattleLose** : 전투 패배 시 다음 출력을 위한 노드 키값, 전투씬 노드 키값에 따라 `PostBattle1_L`, `PostBattle2_L` ... 의 형태로 작성, 본문이 출력된 후 해당 노드로 이동

---

## 공통 보조 노드

### action
모든 노드 안에 작성 가능한 부가 기능 노드, 키값을 주어 다양한 기능을 제어 가능  
- **image** : 삽화를 변경하기 위한 삽화 명을 작성하는 노드, 본문을 출력하기 전 삽화 변경이 이루어짐
- **checkI** : 아이템 수량 확인을 위한 노드, <"아이템 코드", 갯수>형식으로 작성 
- **getI** : 아이템 획득 기능을 위한 노드, `<"아이템 코드", 갯수>` 형식으로 작성  
- **lostI** : 아이템 유실 기능을 위한 노드, `<"아이템 코드", 갯수>` 형식으로 작성
- **getW** : 무기 획득 기능을 위한 노드, `<"무기 코드", 갯수>` 형식으로 작성  
- **lostW** : 무기 유실 기능을 위한 노드, `<"무기 코드", 갯수>` 형식으로 작성
- **flagSet** : 플래그 설정을 위한 플래그 명을 작성하는 노드, `<"플래그명", boolean>` 형식으로 작성  
- **flagCheck** : 본문을 내보내기 위해 플래그를 확인하는 노드, `<"플래그명", boolean>` 형식으로 작성 (리스트 형식으로 복수 체크 가능)  


---

## 💡 JSON 구조 사용 예시

튜토리얼 1
```json
{
	"Text1": {
		"value": [
			"발밑에서 자갈이 굴러떨어지며 삭막한 소리가 퍼져나갔다.",
			"해는 구름 뒤에서 빛을 뿜고 있었지만, 그 빛은 전혀 따뜻하지 않았다.",
			"하늘은 희뿌연 먼지로 가득했고, 주위는 무너진 콘크리트와 뒤틀린 철골들로 뒤엉켜 있었다."
		],
		"action" : { "image": "T1-1" },
		"next": "Text2"
	},
	"Text2": {
		"value": [
			"이곳은 더 이상 사람이 살던 세상이 아니었다.",
			"건물의 잔해는 마치 짐승의 뼈처럼 앙상했고, 길거리에는 그을린 흔적과 낙서, 깨진 유리창들이 가득했다.",
			"바람은 날카로운 모래알을 몰고 다니며 폐허의 골목 사이를 휘돌았다.",
			"멀리서 무너지는 소리도 간헐적으로 들렸다."
		],
		"next": "Text3"
	},
	"Text3":{
		"value":[
			"당신은 주변을 살폈다.",
			"\"이제부턴 내가 알아서 살아야 해...\"",
			"그렇게 생각하며 앞으로 나아가던 중, 시야에 무언가 번뜩이는 것이 들어왔다.",
			"낡고 부서진 차량들 사이, 혹은 반쯤 붕괴된 상점의 안쪽.",
			"어딘가엔 누군가 남기고 간 물자나 단서가 있을지도 모른다."
		],
		"action" : { "image": "T1-2" },
		"next": "Menu1"
	},
	"Menu1": {
		"menuOption": [
			{
				"id": "Select1",
				"label": "녹슨 SUV 차량의 뒷좌석",
				"next": "Result1"
			},
			{
				"id": "Select2",
				"label": "무너진 철제 문 옆의 가방 더미",
				"next": "Result2"
			},
			{
				"id": "Select3",
				"label": "바람 속에서 반짝이는 은색 포장",
				"next": "Result3"
			}
		]
	},
	"Result1":{
		"value": [
			"뒷좌석을 확인하자, 마른 먼지 사이에서 작은 천 주머니 하나가 굴러나왔다.",
			"그 안에는 잘 말린 고기 조각이 몇 개 들어 있었다. 곰팡이는 없었고, 방부 처리 덕분에 상태도 양호했다."
		],
		"next": "Text4"
	},
	"Result2":{
		"value": [
			"가방 더미를 걷어내자, 마른 먼지 사이에서 작은 천 주머니 하나가 굴러나왔다.",
			"그 안에는 잘 말린 고기 조각이 몇 개 들어 있었다. 곰팡이는 없었고, 방부 처리 덕분에 상태도 양호했다."
		],
		"next": "Text4"
	},
	"Result3":{
		"value": [
			"은색 포장을 들춰내자, 마른 먼지 사이에서 작은 천 주머니 하나가 굴러나왔다.",
			"그 안에는 잘 말린 고기 조각이 몇 개 들어 있었다. 곰팡이는 없었고, 방부 처리 덕분에 상태도 양호했다."
		],
		"next": "Text4"
	},
	"Text4": {
		"value": [
			"당신은 그것을 허리춤의 가방 안에 조심스럽게 넣었다.",
			"언젠가 꼭 필요할 순간이 올 것 같은 예감이 들었다.",
			"이제, 첫 걸음은 시작되었다.",
			"지상에는 아직 찾을 것들이 남아 있었고, 당신은 그 모든 것을 마주해야 했다."
		],
		"action": {
			"getI" : [
				["item_1004", 1]
			]
		},
		"next": null
	}
}
```

튜토리얼2
```json
{
  "Text1": {
    "value": [
      "좁고 굽은 골목을 걷고 있었다.",
      "하늘은 잿빛 구름으로 뒤덮여 있었고, 위에서 떨어지는 것은 비도 눈도 아닌 정체불명의 미세 입자들이었다.",
      "전쟁과 오염, 그리고 무너진 인류의 흔적이 이곳의 공기마저 무겁게 만들었다."
    ],
    "action": {"image":"T2-1"},
    "next": "Text2"
  },
  "Text2": {
    "value": [
      "그때, 부서진 철문 너머에서 낮고 쉰 소리가 들려왔다.",
      "@그르르르...",
      "당신은 걸음을 멈추고 숨을 죽였다."
    ],
    "next": "Text3"
  },
  "Text3": {
    "value": [
      "잔해 너머로 마른 들개 한 마리가 모습을 드러냈다.",
      "갈비뼈가 도드라진 배, 군데군데 빠진 털.",
      "굶주림에 날이 선 눈빛은 사납고, 무엇보다 위험했다."
    ],
    "action": {"image":"T2-2"},
    "next": "Text4"
  },
  "Text4": {
    "value": [
      "@물러서면 물린다. 살아남고 싶다면 싸워야 해.",
      "들개가 으르렁거리며 낮은 자세로 다가오자, 당신은 두 손을 움켜쥐고 자세를 낮췄다.",
      "입안이 바짝 말라왔지만, 눈은 상대를 놓치지 않았다."
    ],
    "next": "Battle1"
  },
  "Battle1": {
    "battleIntro": [
      "당신은 자세를 고쳐 잡았다.",
      "적의 숨소리가 가까워진다."
    ],
    "battleOrder": [
      "player",
      "foe_3001",
      "foe_3001"
    ],
    "battleTriggers": [
      "packTactics"
    ],
    "BattleWin": "PostBattle1_W",
    "BattleLose": "PostBattle1_L"
  },
  "PostBattle1_W": {
    "value": [
      "@힘이 아니라, 선택이 목숨을 살린다...",
      "당신은 천천히 숨을 내쉬며 벽에 기대어 앉았다.",
      "주먹은 얼얼했고, 손등은 긁혀 있었지만 피는 나지 않았다.",
      "그건 단순한 싸움이 아니었다.",
      "살아남는 감각을 되찾아가는 과정이었다."
    ],
    "action": {"image":"T2-1"},
    "next": null
  },
  "PostBattle1_L": {
    "value": [
      "당신의 시야가 흐릿해지다, 이내 암전한다..."
    ],
    "next": null
  }
}
